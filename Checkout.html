<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Checkout | SAQ√âRA Eyewear</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<style>
body{
    font-family:Poppins,sans-serif;
    background:#f6dfe3;
    margin:0;
}

.navbar{
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:20px 8%;
    background:#fff;
}

.checkout-page{
    padding:50px 8%;
}

.checkout-box{
    background:#fff;
    padding:30px;
    border-radius:20px;
    max-width:900px;
    margin:auto;
}

.checkout-box h2{
    margin-bottom:25px;
}

.checkout-item{
    display:flex;
    align-items:center;
    gap:20px;
    margin-bottom:15px;
    border-bottom:1px solid #eee;
    padding-bottom:10px;
}

.checkout-item img{
    width:70px;
}

.checkout-item h4{
    flex:1;
    margin:0;
}

.checkout-item p{
    margin:0;
}

.total{
    text-align:right;
    font-size:20px;
    font-weight:600;
    margin-top:20px;
}

/* FORM */
.checkout-form{
    margin-top:40px;
}

.checkout-form h3{
    margin-bottom:20px;
}

.checkout-form input,
.checkout-form textarea{
    width:100%;
    padding:12px 15px;
    margin-bottom:15px;
    border-radius:10px;
    border:1px solid #ddd;
    outline:none;
}

.checkout-form button{
    width:100%;
    padding:14px;
    border:none;
    border-radius:30px;
    background:#c58792;
    color:#fff;
    font-size:16px;
    cursor:pointer;
}

.checkout-form button:hover{
    opacity:.9;
}

/* PAYMENT METHOD */
.payment-method{
    margin:25px 0;
    display:flex;
    flex-direction:column;
    gap:12px;
}

.payment-method label{
    display:flex;
    align-items:center;
    gap:14px;
    padding:14px 18px;
    border:1px solid #e5cfd4;
    border-radius:16px;
    background:#fff;
    cursor:pointer;
    font-size:15px;
    transition:.2s;
}

.payment-method label:hover{
    background:#f6dfe3;
}

.payment-method input{
    width:18px;
    height:18px;
    accent-color:#c58792;
}
</style>
</head>

<body>

<!-- NAVBAR -->
<div class="navbar">
    <h2>SAQ√âRA EYEWEAR</h2>
    <a href="cart.html">‚Üê Back to Cart</a>
</div>

<!-- CHECKOUT -->
<section class="checkout-page">
    <div class="checkout-box">
        <h2>Checkout</h2>

        <div id="checkout-items"></div>
        <div class="total" id="checkout-total">Total: Rp 0</div>

        <!-- FORM -->
        <div class="checkout-form">
            <h3>Customer Information</h3>
            <input type="text" id="name" placeholder="Full Name" required>
            <input type="email" id="email" placeholder="Email" required>
            <input type="text" id="phone" placeholder="Phone Number" required>
            <textarea id="address" placeholder="Shipping Address" rows="3"></textarea>

            <h3>Payment Method</h3>
            <div class="payment-method">
                <label>
                    <input type="radio" name="payment" value="Cash on Delivery">
                    Cash on Delivery (COD)
                </label>

                <label>
                    <input type="radio" name="payment" value="Bank Transfer">
                    Bank Transfer
                </label>

                <label>
                    <input type="radio" name="payment" value="E-Wallet">
                    E-Wallet (OVO / Dana / GoPay)
                </label>
            </div>

            <button onclick="placeOrder()">Place Order</button>
        </div>
    </div>
</section>

<script>
let cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];
const container = document.getElementById("checkout-items");
const totalEl = document.getElementById("checkout-total");

function renderCheckout(){
    let total = 0;
    container.innerHTML = "";

    if(cartItems.length === 0){
        container.innerHTML = "<p>Keranjang kosong üõí</p>";
        totalEl.innerText = "Total: Rp 0";
        return;
    }

    cartItems.forEach(item => {
        total += Number(item.price);
        container.innerHTML += `
            <div class="checkout-item">
                <img src="${item.image}">
                <h4>${item.name}</h4>
                <p>Rp ${Number(item.price).toLocaleString()}</p>
            </div>
        `;
    });

    totalEl.innerText = "Total: Rp " + total.toLocaleString();
}

function placeOrder() {
    const name = document.getElementById("name").value;
    const email = document.getElementById("email").value;
    const phone = document.getElementById("phone").value;
    const payment = document.querySelector('input[name="payment"]:checked');

    if (!name || !email || !phone) {
        alert("Lengkapi data terlebih dahulu üôè");
        return;
    }

    if (!payment) {
        alert("Pilih metode pembayaran terlebih dahulu üí≥");
        return;
    }

    alert("Terima kasih! Pesanan kamu berhasil dibuat üéâ");

    localStorage.removeItem("cartItems");
    window.location.href = "order-success.html";
}

renderCheckout();
</script>

</body>
</html>
